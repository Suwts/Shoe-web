<!DOCTYPE html>
<html>

<head>
    <title>Cart</title>
</head>

<body>
    <app-header></app-header>
<div id="page-header-1709836191" class="page-header-wrapper">
    <div class="page-title dark featured-title">

        <div class="page-title-bg">
            <div class="title-bg fill bg-fill parallax-active" data-parallax-container=".page-title"
                 data-parallax-background="" data-parallax="-">
            </div>
            <div class="title-overlay fill"></div>
        </div>

        <div class="page-title-inner container align-center text-center flex-row-col medium-flex-wrap">
            <div class="title-wrapper flex-col">
                <h1 class="entry-title mb-0">
                    Đơn hàng </h1>
            </div>
            <div class="title-content flex-col">
                <div class="title-breadcrumbs pb-half pt-half">
                    <nav class="woocommerce-breadcrumb breadcrumbs" routerLink="/home">Trang chủ <span
                            class="divider">/</span>
                        Đơn hàng</nav>
                </div>
            </div>
        </div><!-- flex-row -->


        <style scope="scope">
            #page-header-1709836191 .page-title-inner {
                min-height: 180px;
            }

            #page-header-1709836191 .title-bg {
                background-image: url(http://mauweb.monamedia.net/dualeoshoes/wp-content/uploads/2019/05/Rublevoy_Steemit.png);
                background-position: 50% 100%;
            }

            #page-header-1709836191 .title-overlay {
                background-color: rgba(0, 0, 0, 0.8);
            }
        </style>
    </div><!-- .page-title -->
</div>
<div class="offset-xl-2 col-xl-8 col-lg-12 col-md-12 col-sm-12 col-12 padding">
    <div class="card">
        <div class="card-body" >
           
                <div class="row mb-4">
                    <div class="col-sm-6">
                        <h5 class="mb-3">Từ:</h5>
                        <h3 class="text-dark mb-1">Suwts store</h3>
                        <div>Địa chỉ: Văn Trì, Minh Khai <br>
                            Bắc Từ Liêm, Hà Nội</div>
                        <div>Email: vuonglinh280202&#64;.gmail.com</div>
                        <div>SDT: +89 987514832</div>
                        
                    </div>
                    <form [formGroup]="confirmForm" class="col-sm-6 ">
                
                        <div>
                            <h5 class="mb-3">Đến</h5>
                            <div class="info">
                                <label>Họ tên:</label> 
                                <input type="text" formControlName="full_name" name="full_name">
                                <p class="text-danger" *ngIf="confirmForm.get('full_name')!.invalid && confirmForm.get('full_name')!.touched">Họ tên không được để trống</p>
                            </div>
                            <div class="info">
                                <label>SDT:</label>  
                                <input type="text" formControlName="phone_number">
                                <p class="text-danger" *ngIf="confirmForm.get('phone_number')!.invalid && confirmForm.get('phone_number')!.touched">SDT không được để trống</p>
                            </div>
                            <div class="info">
                                <label>Địa chỉ:</label>  
                                <input type="text" formControlName="address">
                                <p class="text-danger" *ngIf="confirmForm.get('address')!.invalid && confirmForm.get('address')!.touched">Địa chỉ không được để trống</p>
                            </div>
                            <div class="info">
                                <label>Thanh toán:</label>  
                                <select formControlName="payment">
                                    <option>COD</option>
                                </select>
                            </div>
                            <div class="info">
                                <label>Vận chuyển:</label>  
                                <select formControlName="shipping_method">
                                    <option>GHTK</option>
                                    <option>Express</option>
                                </select>
                            </div>
                            <div class="info">
                                <label>Ghi chú:</label> 
                                <textarea placeholder="Ghi chú" rows="4" cols="40" formControlName="note"></textarea>
                            </div>  
                        </div>
                    </form>
                </div>

                <div class="table-responsive-sm" *ngIf="checkPayment == false">
                    <table class="table table-striped">
                        <thead>
                            <tr>
                                <th class="center">#</th>
                                <th>Ảnh sản phẩm</th>
                                <th>Tên sản phẩm</th>
                                <!-- <th>Hãng</th> -->
                                <th class="right">Giá</th>
                                <th class="center">Số lượng</th>
                                <th class="right">Tiền</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item  of cartItems, let i = index">
                                <td class="align-middle">{{ i + 1 }}</td>
                                <td class="align-middle">
                                    <img [src]="item.product.url" class="d-block ui-w-40 ui-bordered mr-4 me-4" alt="" style="width: 70% !important;">
                                </td>
                                <td class="align-middle">{{ item.product.name }}</td>
                                <!-- <td class="left strong">Iphone 10X with headphone</td> -->
                                <td class="align-middle">{{ item.product.price| currency :'VND' :'symbol' : '1.0-0' }}</td>
                                <td class="align-middle">{{ item.quantity}}</td>
                                <td class="align-middle">{{ item.product.price *  item.quantity | currency :'VND' :'symbol' : '1.0-0'}}</td>
                            </tr>
                        
                        </tbody>
                    </table>
                </div>
                <div class="row" *ngIf="checkPayment == false">
                    <!-- <div class="col-lg-4 col-sm-3">
                        <label class="text-muted font-weight-normal">Mã giảm giá</label>
                        <input type="text" placeholder="ABC" class="form-control">
                    </div> -->
                    <div class="col-lg-8 col-sm-3">
                        
                    </div>
                    <div class="col-lg-4 col-sm-3 ml-auto">
                        <table class="table table-clear">
                            <tbody>
                                <tr>
                                    <td class="left">
                                        <strong class="text-dark">Tổng</strong>
                                    </td>
                                    <td class="right">{{ totalMoney | currency :'VND' }}</td>
                                </tr>
                                <!-- <tr>
                                    <td class="left">
                                        <strong class="text-dark">Giảm giá</strong>
                                    </td>
                                    <td class="right">$5,761,00</td>
                                </tr> -->
                                <tr>
                                    <td class="left">
                                        <strong class="text-dark">VAT (10%)</strong>
                                    </td>
                                    <td class="right">{{ vat | currency :'VND' }}</td>
                                </tr>
                                <tr>
                                    <td class="left">
                                        <strong class="text-dark">Tổng tiền</strong>
                                    </td>
                                    <td class="right">
                                        <strong class="text-dark">{{totalM | currency :'VND' }}</strong>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div style="text-align: end;">
                    <button class="btn btn-primary" *ngIf="checkPayment == false" (click)="pay()">Thanh toán</button>
                    
                </div>
            
        </div>
    </div>
</div>
</body>